# π² \[Chapter 2] λ™μ‘ νλΌλ―Έν„°ν™” μ½”λ“ μ „λ‹¬ν•κΈ°



**λ™μ‘ νλΌλ―Έν„°ν™”**

* λ™μ‘ νλΌλ―Έν„°ν™”(behavior parameteriztion)λ¥Ό μ΄μ©ν•λ©΄ μμ£Ό λ°”λ€λ” μ”κµ¬μ‚¬ν•­μ— ν¨κ³Όμ μΌλ΅ λ€μ‘ κ°€λ¥
* λ™μ‘ νλΌλ―Έν„°ν™”: μ–΄λ–»κ² μ‹¤ν–‰ν•  κ²ƒμΈμ§€ κ²°μ •ν•μ§€ μ•μ€ μ½”λ“ λΈ”λ΅μ„ μλ―Έ
  * μ΄ μ½”λ“ λΈ”λ΅μ€ λ‚μ¤‘μ— ν”„λ΅κ·Έλ¨μ—μ„ νΈμ¶. μ¦‰, μ½”λ“ λΈ”λ΅μ μ‹¤ν–‰μ€ λ‚μ¤‘μΌλ΅ λ―Έλ¤„μ§

## 1. λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— λ€μ‘ν•κΈ°

* λ†μ¥ μ¬κ³ λ©λ΅ μ• ν”λ¦¬μΌ€μ΄μ…μ— λ¦¬μ¤νΈμ—μ„ λ…Ήμƒ‰ μ‚¬κ³Όλ§ ν•„ν„°λ§‡μ•„λ” κΈ°λ¥μ„ μ¶”κ°€ν•λ‹¤κ³  κ°€μ •

### μ²« λ²μ§Έ μ‹λ„ : λ…Ήμƒ‰ μ‚¬κ³Ό ν•„ν„°λ§

* μ‚¬κ³Ό μƒ‰μ„ μ •μν•λ” `Color num`μ΄ μ΅΄μ¬ν•λ‹¤κ³  κ°€μ •

```
enum Color { RED, GREEN }
```

*   μ²« λ²μ§Έ μ‹λ„ κ²°κ³Ό μ½”λ“

    ```
    public static List<Apple> filterGreenApples(List<Apple> inventory) {
        List<Apple> result = new ArrayList<>();    // μ‚¬κ³Ό λ„μ  λ¦¬μ¤νΈ
        for(Apple apple : inventory){
            if(GREEN.equals(apple.getColor())) {
                result.add(apple);
            }  
        }
        return result;
    }
    ```
* λ§μ•½ λΉ¨κ°„ μ‚¬κ³Όλ„ ν•„ν„°λ§ν•κ³  μ‹¶μ–΄μ§„ κ²½μ° μ–΄λ–»κ² ν• κΉ?
  * λ©”μ„λ“λ¥Ό λ³µμ‚¬ν•΄ μƒλ΅μ΄ λ©”μ„λ“λ¥Ό λ§λ“  ν›„ μ΅°κ±΄λ§ λ³€κ²½ν•΄λ„ λμ§€λ§, κ±°μ λΉ„μ·ν• μ½”λ“κ°€ λ°λ³µ μ΅΄μ¬ν•λ©΄ κ·Έ μ½”λ“λ¥Ό μ¶”μƒν™”μ‹ν‚¤λ” κ²ƒμ΄ μΆ‹μ

### λ‘ λ²μ§Έ μ‹λ„ : μƒ‰μ„ νλΌλ―Έν„°ν™”

*   μƒ‰μ„ νλΌλ―Έν„°ν™”ν•  μ μλ„λ΅ λ©”μ„λ“μ— νλΌλ―Έν„°λ¥Ό μ¶”κ°€ν•λ©΄ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— μΆ€ λ” μ μ—°ν•κ² λ€μ‘ν•λ” μ½”λ“λ¥Ό λ§λ“¤ μ μμ

    ```
    public static List<Apple> filterApplesByColor(List<Apple> inventory, Color color) {
        List<Apple> result = new ArrayList<>();    // μ‚¬κ³Ό λ„μ  λ¦¬μ¤νΈ
        for(Apple apple : inventory){
            if(apple.getColor().equals(color)) {
                result.add(apple);
            }
        }
        return result;
    }
    ```
*   μ•„λ μ½”λ“μ²λΌ κµ¬ν„ν• λ©”μ„λ“λ¥Ό νΈμ¶ν•  μ μμ

    ```
    List<Apple> greenApples = filterApplesByColor(inventory, GREEN);
    List<Apple> redApples = filterApplesByColor(inventory, RED);
    ```
* λ§μ•½ λ¬΄κ²λ¥Ό κΈ°μ¤€μΌλ΅ μ‚¬κ³Όλ¥Ό κµ¬λ¶„ν•κ³  μ‹¶λ‹¤λ©΄ μ„μ λ©”μ„λ“μ—μ„ color νλΌλ―Έν„°λ¥Ό λ¬΄κ²λ¥Ό μλ―Έν•λ” νλΌλ―Έν„°λ΅ λ³€κ²½ν•΄μ£Όλ” κ²ƒλ„ ν•λ‚μ λ°©λ²•
  * κ° μ‚¬κ³Όμ— ν•„ν„°λ§ μ΅°κ±΄μ„ μ μ©ν•λ” λ¶€λ¶„μ μ½”λ“κ°€ μƒ‰ ν•„ν„°λ§ μ½”λ“μ™€ μ¤‘λ³µ λ¨. μ†ν”„νΈμ›¨μ–΄ κ³µν•™μ DRY(don't repeat yourself) μ›μΉ™μ„ μ–΄κΈ°λ” κ²ƒ
  * μƒ‰κ³Ό λ¬΄κ²λ¥Ό filterλΌλ” λ©”μ„λ“λ΅ ν•©μΉλ” λ°©λ²•λ„ μμ. μ–΄λ–¤ κΈ°μ¤€μΌλ΅ μ‚¬κ³Όλ¥Ό ν•„ν„°λ§ν• μ§€ κµ¬λ¶„ν•λ” λ λ‹¤λ¥Έ λ°©λ²•μ΄ ν•„μ”. λ”°λΌμ„ μƒ‰μ΄λ‚ λ¬΄κ² μ¤‘ μ–΄λ–¤ κ²ƒμ„ κΈ°μ¤€μΌλ΅ ν•„ν„°λ§ν• μ§€ κ°€λ¦¬ν‚¤λ” ν”λκ·Έλ¥Ό μ¶”κ°€ν•  μ μμ

### μ„Έ λ²μ§Έ μ‹λ„ : κ°€λ¥ν• λ¨λ“  μ†μ„±μΌλ΅ ν•„ν„°λ§

*   λ¨λ“  μ†μ„±μ„ λ©”μ„λ“ νλΌλ―Έν„°λ΅ μ¶”κ°€

    ```
    public static List<Apple> filterApples(List<Apple> inventory, Color color, int weight, boolean flag) {
        List<Apple> result = new ArrayList<>();    // μ‚¬κ³Ό λ„μ  λ¦¬μ¤νΈ
        for(Apple apple : inventory) {
            if((flag && apple.getColor().equals(color) || (!flag && apple.getWeight() > weight)) {
                result.add(apple);
            }  
        }
        return result;
    }
    ```
*   μ„ λ©”μ„λ“ μ‚¬μ©

    ```
    List<Apple> greenApples = filterApplesByColor(inventory, GREEN, 0, true);
    List<Apple> redApples = filterApplesByColor(inventory, null, 150, false);
    ```

    * true, falseλ” λ¬΄μ—‡μ„ μλ―Έ? μ•μΌλ΅ μ”κµ¬μ‚¬ν•­μ΄ λ°”λ€μ—μ„ λ•λ„ μ μ—°ν•κ² λ€μ‘ λ¶κ°€
* filterApplesμ— μ–΄λ–¤ κΈ°μ¤€μΌλ΅ μ‚¬κ³Όλ¥Ό ν•„ν„°λ§ν•  κ²ƒμΈμ§€ ν¨κ³Όμ μΌλ΅ μ „λ‹¬ν•  μ μλ‹¤λ©΄ λ” μΆ‹μ„ κ²ƒ

## 2. λ™μ‘ νλΌλ―Έν„°ν™”

* μ„ νƒ μ΅°κ±΄μ„ μ‚¬κ³Όμ μ–΄λ–¤ μ†μ„±μ— κΈ°μ΄ν•΄ λ¶λ¦¬μ–Έ κ°’μ„ λ°ν™ν•λ” λ°©λ²•μΌλ΅ κ²°μ •ν•  μ μμ
  * **ν”„λ λ””μΌ€μ΄νΈ**: μ°Έ λλ” κ±°μ§“μ„ λ°ν™ν•λ” ν•¨μ
*   μ„ νƒ μ΅°κ±΄μ„ κ²°μ •ν•λ” μΈν„°νμ΄μ¤λ¥Ό μ •μ

    ```
    public interface ApplePredicate {
        boolean test (Apple apple);
    }
    ```

    * ApplePredicateλ” μ‚¬κ³Ό μ„ νƒ μ „λµμ„ μΊ΅μν™”ν•¨



*   λ‹¤μ–‘ν• μ„ νƒ μ΅°κ±΄μ„ λ€ν‘ν•λ” μ—¬λ¬ λ²„μ „μ ApplePredicate μ •μ κ°€λ¥

    ```
    public class AppleHeavyWeightPredicate implements ApplePredicate {
        public boolean test(Apple apple) {
            return apple.getWeight() > 150;
        }
    }

    β€‹public class AppleGreenColorPredicate implements ApplePredicate {
        public boolean test(Apple apple){
            return GREEN.equals(apple.getColor());
        }
    }
    ```
* μ„ μ΅°κ±΄μ— λ”°λΌ filter λ©”μ„λ“κ°€ λ‹¤λ¥΄κ² λ™μ‘ν•  κ²ƒ
  * **μ „λµ λ””μμΈ ν¨ν„΄**(strategy design pattern): μ „λµμ΄λΌ λ¶λ¦¬λ” κ° μ•κ³ λ¦¬μ¦μ„ μΊ΅μν™”ν•λ” μ•κ³ λ¦¬μ¦ ν¨λ°€λ¦¬λ¥Ό μ •μν•΄λ‘” λ‹¤μ λ°νƒ€μ„μ— μ•κ³ λ¦¬μ¦μ„ μ„ νƒν•λ” κΈ°λ²• ([μμ„Έν• λ‚΄μ©](https://en.wikipedia.org/wiki/Strategy\_pattern))
  * ApplePredicateκ°€ μ•κ³ λ¦¬μ¦ ν¨λ°€λ¦¬μ΄κ³  μ΄λ¥Ό κµ¬ν„ν• λ‘ λ©”μ„λ“κ°€ μ „λµ



* ApplePredicateκ°€ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰ν•  μ μλ” λ°©λ²•
  * filterApplesμ—μ„ ApplePredicate κ°μ²΄λ¥Ό λ°›μ•„ μ• ν”μ μ΅°κ±΄μ„ κ²€μ‚¬ν•λ„λ΅ λ©”μ„λ“λ¥Ό κ³ μ³μ•Ό ν•¨
  * **λ™μ‘ νλΌλ―Έν„°ν™”**, μ¦‰ λ©”μ„λ“κ°€ λ‹¤μ–‘ν• λ™μ‘μ„ λ°›μ•„ λ‚΄λ¶€μ μΌλ΅ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰ν•  μ μμ

### λ„¤ λ²μ§Έ μ‹λ„ : μ¶”μƒμ  μ΅°κ±΄μΌλ΅ ν•„ν„°λ§

*   ApplePredicateλ¥Ό μ΄μ©ν• ν•„ν„° λ©”μ„λ“

    ```
    public static List<Apple> filterApples(List<Apple> inventory, ApplePredicate p) {
        List<Apple> result = new ArrayList<>();    // μ‚¬κ³Ό λ„μ  λ¦¬μ¤νΈ
        for(Apple apple : inventory) {
            if(p.test(apple)) {    // ν”„λ λ””μΌ€μ΄νΈ κ°μ²΄λ΅ μ‚¬κ³Ό κ²€μ‚¬ μ΅°κ±΄μ„ μΊ΅μν™”ν•¨
                result.add(apple);
            }  
        }   
        return result;
    }
    ```
* μ„ μμ μ—μ„ κ°€μ¥ μ¤‘μ”ν• κµ¬ν„μ€ test λ©”μ„λ“. filterApples λ©”μ„λ“μ μƒλ΅μ΄ λ™μ‘μ„ μ •μν•λ” κ²ƒμ΄ test λ©”μ„λ“
  * λ©”μ„λ“λ” κ°μ²΄λ§ μΈμλ΅ λ°›μΌλ―€λ΅ test λ©”μ„λ“λ¥Ό ApplePredicate κ°μ²΄λ΅ κ°μ‹Έμ„ μ „λ‹¬ν•΄μ•Ό ν•¨
  * test λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ” κ°μ²΄λ¥Ό μ΄μ©ν•΄ λ¶λ¦¬μ–Έ ν‘ν„μ‹ λ“±μ„ μ „λ‹¬ν•  μ μμΌλ―€λ΅ μ΄λ” **μ½”λ“λ¥Ό μ „λ‹¬**ν•λ” κ²ƒμ΄λ‚ λ§μ°¬κ°€μ§€
  * 3λ²μ—μ„ λλ‹¤λ¥Ό μ΄μ©ν•΄ μ—¬λ¬ κ°μ ApplePredicate ν΄λμ¤λ¥Ό μ •μν•μ§€ μ•κ³ λ„ μ—¬λ¬ μ΅°κ±΄μ ν‘ν„μ‹μ„ filterApples λ©”μ„λ“λ΅ μ „λ‹¬ν•λ” λ°©λ²•μ„ μ‚΄ν΄λ³Ό κ²ƒ

## 3. λ³µμ΅ν• κ³Όμ • κ°„μ†ν™”

* ν„μ¬ filterApples λ©”μ„λ“λ΅ μƒλ΅μ΄ λ™μ‘μ„ μ „λ‹¬ν•λ ¤λ©΄ ApplePredicate μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•μ—¬ μ—¬λ¬ ν΄λμ¤λ¥Ό μ •μν• λ‹¤μμ— μΈμ¤ν„΄μ¤ν™”ν•΄μ•Ό ν•¨. μƒλ‹Ήν λ²κ±°λ΅μ΄ μ‘μ—…μ΄λ©° μ‹κ°„ λ‚­λΉ„
* μλ°”λ” ν΄λμ¤μ μ„ μ–Έκ³Ό μΈμ¤ν„΄μ¤ν™”λ¥Ό λ™μ‹μ— μν–‰ν•  μ μλ„λ΅ μµλ… ν΄λμ¤(anoymous class)λΌλ” κΈ°λ²•μ„ μ κ³µ
  * μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•λ©΄ μ½”λ“μ μ–‘μ„ μ¤„μΌ μ μμ

### μµλ… ν΄λμ¤

* μµλ… ν΄λμ¤λ” μλ°”μ μ§€μ—­ ν΄λμ¤(λΈ”λ΅ λ‚΄λ¶€μ— μ„ μ–Έλ ν΄λμ¤)μ™€ λΉ„μ·ν• κ°λ…
* μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•λ©΄ ν΄λμ¤ μ„ μ–Έκ³Ό μΈμ¤ν„΄μ¤ν™”λ¥Ό λ™μ‹μ— ν•  μ μμ–΄, μ¦‰μ„μ—μ„ ν•„μ”ν• κµ¬ν„μ„ λ§λ“¤μ–΄μ„ μ‚¬μ©ν•  μ μμ

### λ‹¤μ„― λ²μ§Έ μ‹λ„: μµλ… ν΄λμ¤ μ‚¬μ©

*   μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•΄ ApplePredicateλ¥Ό κµ¬ν„ν•λ” κ°μ²΄λ¥Ό λ§λ“λ” λ°©λ²•μΌλ΅ ν•„ν„°λ§ μ½”λ“λ¥Ό λ‹¤μ‹ κµ¬ν„ν• μ½”λ“

    ```
    List<Apple> redApples = filterApples(inventory, new ApplePredicate() {   
        public boolean test(Apple apple){       
            return RED.equals(apple.getColor());  
        }
    });
    ```

    * μµλ… ν΄λμ¤λ” μ—¬μ „ν λ§μ€ κ³µκ°„μ„ μ°¨μ§€ν•κ³  λ§μ€ ν”„λ΅κ·Έλλ¨Έκ°€ μµλ… ν΄λμ¤μ μ‚¬μ©μ— μµμ™ν•μ§€ μ•μ
* μµλ… ν΄λμ¤λ΅ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” μ—¬λ¬ ν΄λμ¤λ¥Ό μ„ μ–Έν•λ” κ³Όμ •μ„ μ΅°κΈ μ¤„μΌ μ λ” μμ§€λ§ μ—¬μ „ν λ¶λ§μ΅±
  * μ½”λ“ μ΅°κ°μ„ μ „λ‹¬ν•λ” κ³Όμ •μ—μ„ κ²°κµ­ κ°μ²΄λ¥Ό λ§λ“¤κ³  λ…μ‹μ μΌλ΅ μƒλ΅μ΄ λ™μ‘μ„ μ •μν•λ” λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤λ” μ μ€ λ³€ν•μ§€ μ•μ

### μ—¬μ„― λ²μ§Έ μ‹λ„: λλ‹¤ ν‘ν„μ‹ μ‚¬μ©

*   μλ°” 8μ λλ‹¤ ν‘ν„μ‹μ„ μ΄μ©ν•΄ μ„ μμ  μ½”λ“λ¥Ό κ°„λ‹¨ν•κ² μ¬κµ¬ν„ν•  μ μμ

    ```
    List<Apple> result = filterApples(inventory, (Apple apple) -> RED.equals(apple.getColor()));
    ```

    * μ½”λ“κ°€ κ°„κ²°ν•΄μ§€λ©΄μ„ λ¬Έμ λ¥Ό λ” μ μ„¤λ…ν•λ” μ½”λ“κ°€ λ¨ (λ³µμ΅μ„± λ¬Έμ  ν•΄κ²° κ°€λ¥)

### μΌκ³± λ²μ§Έ μ‹λ„ : λ¦¬μ¤νΈ ν•μ‹μΌλ΅ μ¶”μƒν™”

```
public interface Predicat<T> {
    booelan test(T t);
}

β€‹public static <T> List<T> filter(List<T> list, Predicate<T> p){    // ν•μ‹ νλΌλ―Έν„° T λ“±μ¥
    List<T> result = new ArrayList<>();   
    for(T e : list){
        if(p.test(e)) {
            result.add(e);
        }
    }   
    return result;
}
```

* λ‹¤λ¥Έ κ³ΌμΌκ³Ό μ •μ, λ¬Έμμ—΄ λ“±μ λ¦¬μ¤νΈμ— ν•„ν„° λ©”μ„Έλ“λ¥Ό μ‚¬μ©ν•  μ μμ

## 5. λ§μΉλ©°

* λ™μ‘ νλΌλ―Έν„°ν™”μ—μ„λ” λ©”μ„λ“ λ‚΄λ¶€μ μΌλ΅ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰ν•  μ μλ„λ΅ μ½”λ“λ¥Ό λ©”μ„λ“ μΈμλ΅ μ „λ‹¬
* λ™μ‘ νλΌλ―Έν„°ν™”λ¥Ό μ΄μ©ν•λ©΄ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— λ” μ λ€μ‘ν•  μ μλ” μ½”λ“λ¥Ό κµ¬ν„ν•  μ μμΌλ©° λ‚μ¤‘μ— μ—”μ§€λ‹μ–΄λ§ λΉ„μ©μ„ μ¤„μΌ μ μμ
* μ½”λ“ μ „λ‹¬ κΈ°λ²•μ„ μ΄μ©ν•λ©΄ λ™μ‘μ„ λ©”μ„λ“ μΈμλ΅ μ „λ‹¬ν•  μ μμ
* μλ°” APIμ λ§μ€ λ©”μ„λ“λ” μ •λ ¬, μ¤λ λ“ ,GUI μ²λ¦¬ λ“±μ„ ν¬ν•¨ν• λ‹¤μ–‘ν• λ™μ‘μΌλ΅ νλΌλ―Έν„°ν™”ν•  μ μμ

> **Chapter 2 λ!!!**

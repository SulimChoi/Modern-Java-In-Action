# π¦™ \[Chapter 3] λλ‹¤ ν‘ν„μ‹

## 1. λλ‹¤λ€ λ¬΄μ—‡μΈκ°€?

* λλ‹¤ ν‘ν„μ‹: λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ” μµλ… ν•¨μλ¥Ό λ‹¨μν™”ν• κ²ƒ
  * μ΄λ¦„μ€ μ—†μ§€λ§, νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””, λ°ν™ ν•μ‹, λ°μƒν•  μ μλ” μμ™Έ λ¦¬μ¤νΈλ” κ°€μ§ μ μμ
* λλ‹¤μ νΉμ§•
  * **μµλ…**: μ΄λ¦„μ΄ μ—†μ
  * **ν•¨μ**: νΉμ • ν΄λμ¤μ— μΆ…μ†λμ§€ μ•μ
  * **μ „λ‹¬**: λλ‹¤ ν‘ν„μ‹μ„ λ©”μ„λ“ μΈμλ΅ μ „λ‹¬ν•κ±°λ‚ λ³€μλ΅ μ €μ¥ν•  μ μμ
  * **κ°„κ²°μ„±**: λ§μ€ μ½”λ“λ¥Ό κµ¬ν„ν•  ν•„μ”κ°€ μ—†μ



*   λλ‹¤ ν‘ν„μ‹ κµ¬μ„±

    ```
    (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());
    ```

    * νλΌλ―Έν„° λ¦¬μ¤νΈ
    * ν™”μ‚΄ν‘: λλ‹¤μ νλΌλ―Έν„° λ¦¬μ¤νΈμ™€ λ°”λ””λ¥Ό κµ¬λ¶„
    * λλ‹¤ λ°”λ””: λλ‹¤μ λ°ν™κ°’μ— ν•΄λ‹Ήν•λ” ν‘ν„μ‹

### λλ‹¤ ν‘ν„μ‹ μμ 

```
(String s) -> s.length()
```

* String ν•μ‹μ νλΌλ―Έν„° ν•λ‚λ¥Ό κ°€μ§€λ©° intλ¥Ό λ°ν™
* λλ‹¤ ν‘ν„μ‹μ—λ” returnμ΄ ν•¨μ¶•λμ–΄ μμΌλ―€λ΅ return λ¬Έμ„ λ…μ‹μ μΌλ΅ μ‚¬μ©ν•μ§€ μ•μ•„λ„ λ¨

```
(Apple a) -> a.getWeight() > 150
```

* Apple ν•μ‹μ νλΌλ―Έν„° ν•λ‚λ¥Ό κ°€μ§€λ©° booleanμ„ λ°ν™

```
(int x, int y) -> {
    System.out.println("Result:");
    System.out.println(x + y);
}
```

* int ν•μ‹μ νλΌλ―Έν„° λ‘ κ°λ¥Ό κ°€μ§€λ©° λ¦¬ν„΄κ°’μ΄ μ—†μ (void λ¦¬ν„΄)
* λλ‹¤ ν‘ν„μ‹μ€ μ—¬λ¬ ν–‰μ λ¬Έμ¥μ„ ν¬ν•¨ν•  μ μμ

```
() -> 42
```

* νλΌλ―Έν„°κ°€ μ—†μΌλ©° int 42λ¥Ό λ°ν™

```
(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight())
```

* Apple ν•μ‹μ νλΌλ―Έν„° λ‘ κ°λ¥Ό κ°€μ§€λ©° intλ¥Ό λ°ν™

### λλ‹¤μ κΈ°λ³Έ λ¬Έλ²•

*   ν‘ν„μ‹ μ¤νƒ€μΌ(expression style)

    ```
    (parameters) -> expression
    ```
*   λΈ”λ΅ μ¤νƒ€μΌ(block-style)

    ```
    (parameters) -> {statements;}
    ```

**λλ‹¤ μμ μ™€ μ‚¬μ© μ‚¬λ΅€**

| μ‚¬μ© μ‚¬λ΅€      | λλ‹¤ μμ                                                               |
| ---------- | ------------------------------------------------------------------ |
| λ¶λ¦¬μ–Έ ν‘ν„μ‹    | `(List<String> list) -> list.isEmpty()`                            |
| κ°μ²΄ μƒμ„±      | `() -> new Apple(10)`                                              |
| κ°μ²΄μ—μ„ μ†λΉ„    | `(Apple a) -> {System.out.println(a.getWeight());}`                |
| κ°μ²΄μ—μ„ μ„ νƒ/μ¶”μ¶ | `(String s) -> s.length()`                                         |
| λ‘ κ°’μ„ μ΅°ν•©    | `(int a, int b) -> a * b`                                          |
| λ‘ κ°μ²΄ λΉ„κµ    | `(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight())` |

## 2. μ–΄λ””μ—, μ–΄λ–»κ² λλ‹¤λ¥Ό μ‚¬μ©ν• κΉ?

### ν•¨μν• μΈν„°νμ΄μ¤

* ν•¨μν• μΈν„°νμ΄μ¤λ” **μ •ν™•ν ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ§€μ •ν•λ” μΈν„°νμ΄μ¤**λ¥Ό μλ―Έ
*   μλ°” APIμ ν•¨μν• μΈν„°νμ΄μ¤λ΅ Comparator, Runnable λ“±μ΄ μμ

    ```
    public interface Comparator<T> {
        int compae(T o1, T o2);
    }

    public interface Runnable {
        void run();
    }

    public interface ActionListener extends EventListener {
        void actionPerformed(ActionEvnet e);
    }

    public interface Callable<V> {
        V call() throws Exception;
    }

    public interface PrivilegendActio<T> {
        T run();
    }
    ```

    * μΈν„°νμ΄μ¤λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό ν¬ν•¨ν•  μ μμ. λ§μ€ λ””ν΄νΈ λ©”μ„λ“κ°€ μλ”λΌλ„ μ¶”μƒ λ©”μ„λ“κ°€ ν•λ‚μ΄λ©΄ ν•¨μν• μΈν„°νμ΄μ¤
    * λ””ν΄νΈ λ©”μ„λ“: μΈν„°νμ΄μ¤μ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ€ ν΄λμ¤λ¥Ό κ³ λ ¤ν•΄ κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•λ” λ°”λ””λ¥Ό ν¬ν•¨ν•λ” λ©”μ„λ“
*   λλ‹¤ ν‘ν„μ‹μΌλ΅ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ κµ¬ν„μ„ μ§μ ‘ μ „λ‹¬ν•  μ μμΌλ―€λ΅ μ „μ²΄ ν‘ν„μ‹μ„ ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ·¨κΈ‰ν•  μ μμ

    ```
    Runnable r1 = () -> System.out.println("Hello World 1");	// λλ‹¤ μ‚¬μ©Runnable r2 = new Runnable(){	// μµλ… ν΄λμ¤ μ‚¬μ©    	public void run(){            System.out.println("Hello World 2");        }};public static void process(Runnable r){    r.run();}process(r1);process(r2);process(() -> System.out.println("Hello World 3"));	// μ§μ ‘ μ „λ‹¬λ λλ‹¤ ν‘ν„μ‹
    ```

### ν•¨μ λ””μ¤ν¬λ¦½ν„°

* ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ μ‹κ·Έλ‹μ²(signature)λ” λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό κ°€λ¦¬ν‚΄
* λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό μ„μ ν•λ” λ©”μ„λ“λ¥Ό **ν•¨μ λ””μ¤ν¬λ¦½ν„°(function descriptor)**λΌκ³  λ¶€λ¦„
  * Runnable μΈν„°νμ΄μ¤μ μ μΌν• μ¶”μƒ λ©”μ„λ“ runμ€ μΈμμ™€ λ°ν™κ°’μ΄ μ—†μΌλ―€λ΅ Runnable μΈν„°νμ΄μ¤λ” μΈμμ™€ λ°ν™κ°’μ΄ μ—†λ” μ‹κ·Έλ‹μ²λ΅ μƒκ°ν•  μ μμ

> λλ‹¤μ™€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κ°€λ¦¬ν‚¤λ” ν‘κΈ°λ²•
>
> * `() -> void`: νλΌλ―Έν„° λ¦¬μ¤νΈκ°€ μ—†μΌλ©° voidλ¥Ό λ°ν™ν•λ” ν•¨μ (ex. Runnable)
> * `(Apple, Apple) -> int`: λ‘ κ°μ Appleμ„ μΈμλ΅ λ°›μ•„ intλ¥Ό λ°ν™ν•λ” ν•¨μ

* λλ‹¤ ν‘ν„μ‹μ€ λ³€μμ— ν• λ‹Ήν•κ±°λ‚ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μΈμλ΅ λ°›λ” λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μμΌλ©°, ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“μ™€ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°€μ§

> **`@FunctionalInterface`**
>
> * ν•¨μν• μΈν„°νμ΄μ¤μ— `@FunctionalInterface` μ–΄λ…Έν…μ΄μ…μ΄ μ¶”κ°€λ¨
> * ν•¨μν• μΈν„°νμ΄μ¤μ„μ„ κ°€λ¦¬ν‚¤λ” μ–΄λ…Έν…μ΄μ…
> * `@FunctionalInterface`λ΅ μΈν„°νμ΄μ¤λ¥Ό μ„ μ–Έν–μ§€λ§ μ‹¤μ λ΅ ν•¨μν• μΈν„°νμ΄μ¤κ°€ μ•„λ‹λ©΄ μ»΄νμΌλ¬κ°€ μ—λ¬λ¥Ό λ°μƒμ‹ν‚΄

## 3. λλ‹¤ ν™μ© : μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄

* μμ› μ²λ¦¬μ— μ‚¬μ©ν•λ” μν™ ν¨ν„΄(recurrent pattern)μ€ μμ›μ„ μ—΄κ³ , μ²λ¦¬ν• λ‹¤μ, μμ›μ„ λ‹«λ” μμ„λ΅ μ΄λ£¨μ–΄μ§
  * μ„¤μ •(setup)κ³Ό μ •λ¦¬(cleanup) κ³Όμ •μ€ λ€λ¶€λ¶„ λΉ„μ·
  * μ‹¤μ  μμ›μ„ μ²λ¦¬ν•λ” μ½”λ“λ¥Ό μ„¤μ •κ³Ό μ •λ¦¬ λ‘ κ³Όμ •μ΄ λ‘λ¬μ‹Έλ” ν•νƒλ¥Ό κ°€μ§
* **μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄(excute around pattern)**: μ¤‘λ³µλλ” μ¤€λΉ„ μ½”λ“μ™€ μ •λ¦¬μ½”λ“κ°€ μ‘μ—…λ“¤μ„ κ°μ‹Έκ³  μλ” ν¨ν„΄
*   νμΌμ—μ„ ν• ν–‰μ„ μ½λ” μ½”λ“(try-with-resources κµ¬λ¬Έ μ‚¬μ©)

    ```
    public String processFile() throws IOException {
        try(BufferedReader br = new BufferedReader(new FileReader("data.txt"))) {
            return br.readLine();	// μ‹¤μ  ν•„μ”ν• μ‘μ—…μ„ ν•λ” ν–‰
        }
    }
    ```

### 1λ‹¨κ³„ : λ™μ‘ νλΌλ―Έν„°ν™”λ¥Ό κΈ°μ–µν•λΌ

* ν„μ¬ μ½”λ“λ” νμΌμ—μ„ ν• λ²μ— ν• μ¤„λ§ μ½μ„ μ μμ. ν• λ²μ— λ‘ μ¤„μ„ μ½κ±°λ‚ κ°€μ¥ μμ£Ό μ‚¬μ©λλ” λ‹¨μ–΄λ¥Ό λ°ν™ν•λ ¤λ©΄?
  * κΈ°μ΅΄μ μ„¤μ •, μ •λ¦¬ κ³Όμ •μ€ μ¬μ‚¬μ©ν•κ³  processFile λ©”μ„λ“λ§ λ‹¤λ¥Έ λ™μ‘μ„ μν–‰ν•λ„λ΅ λ…λ Ή
  * processFileμ λ™μ‘μ„ νλΌλ―Έν„°ν™”ν•λ©΄ λ¨
  * processFile λ©”μ„λ“κ°€ BufferedReaderλ¥Ό μ΄μ©ν•΄ λ‹¤λ¥Έ λ™μ‘μ„ μν–‰ν•  μ μλ„λ΅ processFile λ©”μ„λ“λ΅ λ™μ‘μ„ μ „λ‹¬ν•΄μ•Ό ν•¨
*   processFile λ©”μ„λ“κ°€ ν• λ²μ— λ‘ ν–‰μ„ μ½μ–΄μ¤λ„λ΅ μ½”λ“ μμ •

    ```
    String result = processFile((BufferedReader br) -> br.readLibe() + br.readLine());
    ```

    * BufferedReaderλ¥Ό μΈμλ΅ λ°›μ•„ Stringμ„ λ°ν™ν•λ” λλ‹¤λ¥Ό μ‚¬μ©ν•΄ μμ •

### 2λ‹¨κ³„ : ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄μ„ λ™μ‘ μ „λ‹¬

*   ν•¨μν• μΈν„°νμ΄μ¤ μλ¦¬μ— λλ‹¤λ¥Ό μ‚¬μ©ν•  μ μμ

    * BufferedReader -> Stringκ³Ό IOExceptionμ„ λμ§ μ μλ” μ‹κ·Έλ‹μ²μ™€ μΌμΉν•λ” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•¨

    ```
    @FunctionalInterfacepublic interface BufferedReaderProcessor {
        String process(BufferedReader b) throws IOException;
    }
    ```
*   μ •μν• μΈν„°νμ΄μ¤λ¥Ό processFile λ©”μ„λ“μ μΈμλ΅ μ „λ‹¬

    ```
    public String processFile(BufferedReaderProcessor p) throws IOException {
        ...
    }
    ```

### 3λ‹¨κ³„ : λ™μ‘ μ‹¤ν–‰

* BufferedReaderProccessorμ— μ •μλ process λ©”μ„λ“μ μ‹κ·Έλ‹μ²μ™€ μΌμΉν•λ” λλ‹¤λ¥Ό μ „λ‹¬ν•  μ μμ
* λλ‹¤ ν‘ν„μ‹μΌλ΅ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ κµ¬ν„μ„ μ§μ ‘ μ „λ‹¬ν•  μ μκ³ , μ „λ‹¬λ μ½”λ“λ” ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ „λ‹¬λ μ½”λ“μ™€ κ°™μ€ λ°©μ‹μΌλ΅ μ²λ¦¬
*   λ”°λΌμ„ processFile λ°”λ”” λ„¤μ—μ„ BufferedReaderProcessor κ°μ²΄μ processλ¥Ό νΈμ¶ν•  μ μμ

    ```
    public String processFile(BufferedReaderProcessor p) throws IOException {
        try(BufferedReader br = new BufferedReader(new FileReader("data.txt"))) {
            return p.process(br);	// BufferedReader κ°μ²΄ μ²λ¦¬    
        }
    }
    ```

### 4λ‹¨κ³„ : λλ‹¤ μ „λ‹¬

* λλ‹¤λ¥Ό μ΄μ©ν•΄ λ‹¤μ–‘ν• λ™μ‘μ„ processFile λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μμ
*   ν• ν–‰μ„ μ²λ¦¬ν•λ” μ½”λ“

    ```
    String onLine = processFile((BufferedReader br) -> br.readLine());
    ```
*   λ‘ ν–‰μ„ μ²λ¦¬ν•λ” μ½”λ“

    ```
    String twoLines = processFile((BufferedReader br) -> br.readLine() + br.readLine());
    ```

## 4. ν•¨μν• μΈν„°νμ΄μ¤ μ‚¬μ©

* ν•¨μν• μΈν„°νμ΄μ¤λ” μ¤μ§ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ§€μ •
  * ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“λ” λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό λ¬μ‚¬
  * ν•¨μ λ””μ¤ν¬λ¦½ν„°(function descriptor): ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“ μ‹κ·Έλ‹μ²
* λ‹¤μ–‘ν• λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•λ ¤λ©΄ κ³µν†µμ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό κΈ°μ ν•λ” ν•¨μν• μΈν„°νμ΄μ¤ μ§‘ν•©μ΄ ν•„μ”
* μλ°” 8μ—μ„λ” `java.util.function` ν¨ν‚¤μ§€λ΅ μ—¬λ¬ κ°€μ§€ μƒλ΅μ΄ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µ

### Predicate

* `java.util.function.Predicate<T>` μΈν„°νμ΄μ¤λ” testλΌλ” μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•λ©° testλ” μ λ„¤λ¦­ ν•μ‹ Tμ κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„ λ¶λ¦¬μ–Έμ„ λ°ν™
* T ν•μ‹μ κ°μ²΄λ¥Ό μ‚¬μ©ν•λ” λ¶λ¦¬μ–Έ ν‘ν„μ‹μ΄ ν•„μ”ν• μƒν™©μ—μ„ Predicate μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  μ μμ

### Consumer

* `java.util.function.Consumer<T>` μΈν„°νμ΄μ¤λ” μ λ„¤λ¦­ ν•μ‹ T κ°μ²΄λ¥Ό λ°›μ•„μ„ voidλ¥Ό λ°ν™ν•λ” acceptλΌλ” μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μ
* T ν•μ‹μ κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„ μ–΄λ–¤ λ™μ‘μ„ μν–‰ν•κ³  μ‹¶μ„ λ• Consumer μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  μ μμ

### Function

* `java.util.function.Function<T, R>` μΈν„°νμ΄μ¤λ” μ λ„¤λ¦­ ν•μ‹ Tλ¥Ό μΈμλ΅ λ°›μ•„ μ λ„¤λ¦­ ν•μ‹ R κ°μ²΄λ¥Ό λ°ν™ν•λ” μ¶”μƒ λ©”μ„λ“ applyλ¥Ό μ •μ
* μ…λ ¥μ„ μ¶λ ¥μΌλ΅ λ§¤ν•‘ν•λ” λλ‹¤λ¥Ό μ •μν•  λ• Function μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•  μ μμ

### λλ‹¤μ™€ ν•¨μν• μΈν„°νμ΄μ¤ μμ 

| μ‚¬μ© μ‚¬λ΅€      | λλ‹¤ μμ                                                               | λ€μ‘ν•λ” ν•¨μν• μΈν„°νμ΄μ¤                                                                            |
| ---------- | ------------------------------------------------------------------ | ----------------------------------------------------------------------------------------- |
| λ¶λ¦¬μ–Έ ν‘ν„     | `(List<String> list) -> list.isEmpty()`                            | `Predicate<List<String>>`                                                                 |
| κ°μ²΄ μƒμ„±      | `() -> new Apple(10)`                                              | `Supplier<Apple>`                                                                         |
| κ°μ²΄μ—μ„ μ†λΉ„    | `(Apple a) -> System.out.println(a.getWeight())`                   | `Consumer<Apple>`                                                                         |
| κ°μ²΄μ—μ„ μ„ νƒ/μ¶”μ¶ | `(String s) -> s.length()`                                         | `Function<String, Integer>`, `ToIntFunction<String>`                                      |
| λ‘ κ°’ μ΅°ν•©     | `(int a, int b) -> a * b`                                          | `IntBinaryOperator`                                                                       |
| λ‘ κ°μ²΄ λΉ„κµ    | `(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight())` | `Comparator<Apple>`, `BiFunction<Apple, Apple, Integer>`, `ToIntBiFunction<Apple, Apple>` |

> **μμ™Έ, λλ‹¤, ν•¨μν• μΈν„°νμ΄μ¤μ κ΄€κ³„**
>
> * ν•¨μν• μΈν„°νμ΄μ¤λ” ν™•μΈλ μμ™Έλ¥Ό λμ§€λ” λ™μ‘μ„ ν—μ©ν•μ§€ μ•μ
>   * μμ™Έλ¥Ό λμ§€λ” λλ‹¤ ν‘ν„μ‹μ„ λ§λ“¤λ ¤λ©΄ ν™•μΈλ μμ™Έλ¥Ό μ„ μ–Έν•λ” ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ μ •μν•κ±°λ‚ λλ‹¤λ¥Ό try-catchλ¬ΈμΌλ΅ κ°μ‹Έμ•Ό ν•¨
> *   `Function<T, R>` ν•μ‹μ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•κ³  μμΌλ©° μ§μ ‘ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤κΈ° μ–΄λ ¤μ΄ μƒν™©μ΄λΌλ©΄ try-catchλ¬Έμ„ μ‚¬μ©ν•΄ λ…μ‹μ μΌλ΅ ν™•μΈλ μμ™Έλ¥Ό μ΅μ„ μ μμ
>
>     ```
>     Function<BufferedReader, String> f = (BufferedReader b) -> {    try{        return b.readLine();    }    catch(IOException){        throw new RuntimeException(e);    }};
>     ```

## 5. ν•μ‹ κ²€μ‚¬, ν•μ‹ μ¶”λ΅ , μ μ•½

### ν•μ‹ κ²€μ‚¬

* λλ‹¤κ°€ μ‚¬μ©λλ” μ½ν…μ¤νΈ(context)λ¥Ό μ΄μ©ν•΄ λλ‹¤μ ν•μ‹(type)μ„ μ¶”λ΅ ν•  μ μμ
* **λ€μƒ ν•μ‹(target type)**: μ–΄λ–¤ μ½ν…μ¤νΈμ—μ„ κΈ°λ€λλ” λλ‹¤ ν‘ν„μ‹μ ν•μ‹
*   ν•μ‹ ν™•μΈ κ³Όμ •

    ```
    List<Apple> heavierThan150g = filter(inventory, (Apple apple) -> apple.getWeight() > 150);
    ```

    1. filter λ©”μ„λ“μ μ„ μ–Έ ν™•μΈ (`filter(List<Apple> inventory, Predicate<Apple> p)`)
    2. filter λ©”μ„λ“λ” λ‘ λ²μ§Έ νλΌλ―Έν„°λ΅ `Predicate<Apple>` ν•μ‹ (λ€μƒ ν•μ‹)μ„ κΈ°λ€
    3. `Predicate<Apple>`μ€ testλΌλ” ν• κ°μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•λ” ν•¨μν• μΈν„°νμ΄μ¤
    4. test λ©”μ„λ“λ” Appleμ„ λ°›μ•„ booleanμ„ λ°ν™ν•λ” ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό λ¬μ‚¬
    5. filter λ©”μ„λ“λ΅ μ „λ‹¬λ μΈμλ” μ΄μ™€ κ°™μ€ μ”κµ¬μ‚¬ν•­μ„ λ§μ΅±ν•΄μ•Ό ν•¨

### κ°™μ€ λλ‹¤, λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤

* λ€μƒ ν•μ‹μ΄λΌλ” νΉμ§• λ•λ¬Έμ— κ°™μ€ λλ‹¤ ν‘ν„μ‹μ΄λ”λΌλ„ νΈν™λλ” μ¶”μƒ λ©”μ„λ“λ¥Ό κ°€μ§„ λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤λ΅ μ‚¬μ©λ  μ μμ
* μ¦‰, ν•λ‚μ ν•¨λ‹¤ ν‘ν„μ‹μ„ λ‹¤μ–‘ν• ν•¨μν• μΈν„°νμ΄μ¤μ— μ‚¬μ©ν•  μ μμ

### ν•μ‹ μ¶”λ΅ 

* μλ°” μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ΄ μ‚¬μ©λ μ½ν…μ¤νΈ(λ€μƒ ν•μ‹)λ¥Ό μ΄μ©ν•΄ λλ‹¤ ν‘ν„μ‹κ³Ό κ΄€λ ¨λ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ¶”λ΅ . μ¦‰, λ€μƒ ν•μ‹μ„ μ΄μ©ν•΄ ν•¨μ λ””μ¤ν¬λ¦½ν„°λ¥Ό μ• μ μμΌλ―€λ΅ μ»΄νμΌλ¬λ” λλ‹¤μ μ‹κ·Έλ‹μ²λ„ μ¶”λ΅ ν•  μ μμ
*   μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ νλΌλ―Έν„° ν•μ‹μ— μ ‘κ·Όν•  μ μμΌλ―€λ΅ λλ‹¤ λ¬Έλ²•μ—μ„ νλΌλ―Έν„° ν•μ‹ μƒλµ κ°€λ¥

    ```
    // νλΌλ―Έν„° appleμ—λ” ν•μ‹μ„ λ…μ‹μ μΌλ΅ μ§€μ •ν•μ§€ μ•μ
    List<Apple> greenApples = filter(inventory, apple -> GREEN.equals(apple.getColor()));
    ```
*   μ—¬λ¬ νλΌλ―Έν„°λ¥Ό ν¬ν•¨ν•λ” λλ‹¤ ν‘ν„μ‹μ—μ„λ” μ½”λ“ κ°€λ…μ„±μ΄ ν–¥μƒλ  μ μμ

    ```
    // ν•μ‹μ„ μ¶”λ΅ ν•μ§€ μ•μ
    Comparator<Apple> c = (Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight());

    // ν•μ‹μ„ μ¶”λ΅ ν•¨
    Comparator<Apple> c = (a1, a2) -> a1.getWeight().compareTo(a2.getWeight());
    ```
* μƒν™©μ— λ”°λΌ λ…μ‹μ μΌλ΅ ν•μ‹μ„ ν¬ν•¨ν•λ” κ²ƒμ΄ μΆ‹μ„ λ•λ„ μκ³  ν•μ‹μ„ λ°°μ ν•λ” κ²ƒμ΄ κ°€λ…μ„±μ„ ν–¥μƒμ‹ν‚¬ λ•λ„ μμ

### μ§€μ—­ λ³€μ ν—μ©

* μ§€κΈκΉμ§€ λλ‹¤ ν‘ν„μ‹μ€ μΈμλ¥Ό μμ‹ μ λ°”λ”” μ•μ—μ„λ§ μ‚¬μ©ν•¨
* λλ‹¤ ν‘ν„μ‹μ—μ„λ” μµλ… ν•¨μκ°€ ν•λ” κ²ƒμ²λΌ μμ  λ³€μ(free variable, νλΌλ―Έν„°λ΅ λ„κ²¨μ§„ λ³€μκ°€ μ•„λ‹ μ™Έλ¶€μ—μ„ μ •μλ λ³€μ)λ¥Ό ν™μ©ν•  μ μμ
* **λλ‹¤ μΊ΅μ³λ§(capturing lambda)**: λλ‹¤ ν‘ν„μ‹ μ•μ—μ„ μμ  λ³€μλ¥Ό ν™μ©ν•λ” κ²ƒ
  * λλ‹¤λ” μΈμ¤ν„΄μ¤ λ³€μμ™€ μ •μ  λ³€μλ¥Ό μμ λ΅­κ² μΊ΅μ²(μμ‹ μ λ°”λ””μ—μ„ μ°Έμ΅°ν•  μ μλ„λ΅)ν•  μ μμ
  * ν•μ§€λ§ μΊ΅μ²ν•κΈ° μ„ν•΄μ„λ” μ§€μ—­ λ³€μλ” λ…μ‹μ μΌλ΅ finalλ΅ μ„ μ–Έλμ–΄ μμ–΄μ•Ό ν•κ±°λ‚ μ‹¤μ§μ μΌλ΅ finalλ΅ μ„ μ–Έλ λ³€μμ™€ λ‘κ°™μ΄ μ‚¬μ©λμ–΄μ•Ό ν•¨
  * μ¦‰, **λλ‹¤ ν‘ν„μ‹μ€ ν• λ²λ§ ν• λ‹Ήν•  μ μλ” μ§€μ—­ λ³€μλ¥Ό μΊ΅μ²ν•  μ μμ**
*   μ΄ μμ λ” μ»΄νμΌ ν•  μ μ—†μ

    ```
    int portNumber = 1337;
    Runnable r = () -> System.out.println(portNumber);
    portNumber = 31337;
    ```

    * portNumberμ— κ°’μ„ λ‘ λ² ν• λ‹Ήν•λ―€λ΅ μ»΄νμΌ ν•  μ μ—†λ” μ½”λ“

#### **μ§€μ—­ λ³€μμ μ μ•½**

* μΈμ¤ν„΄μ¤ λ³€μλ” ν™μ— μ €μ¥λλ” λ°λ©΄ μ§€μ—­ λ³€μλ” μ¤νƒμ— μ €μ¥λ¨
* λλ‹¤μ—μ„ μ§€μ—­ λ³€μμ— λ°”λ΅ μ ‘κ·Όν•  μ μλ‹¤λ” κ°€μ •ν•μ— λλ‹¤κ°€ μ¤λ λ“μ—μ„ μ‹¤ν–‰λλ‹¤λ©΄ λ³€μλ¥Ό ν• λ‹Ήν• μ¤λ λ“κ°€ μ‚¬λΌμ Έ λ³€μ ν• λ‹Ήμ΄ ν•΄μ λμ—λ”λ°λ„ λλ‹¤λ¥Ό μ‹¤ν–‰ν•λ” μ¤λ λ“μ—μ„λ” ν•΄λ‹Ή λ³€μμ— μ ‘κ·Όν•λ ¤ ν•  μ μμ
* λ”°λΌμ„ μλ°” κµ¬ν„μ—μ„λ” μ›λ λ³€μμ— μ ‘κ·Όμ„ ν—μ©ν•λ” κ²ƒμ΄ μ•„λ‹λΌ μμ  μ§€μ—­ λ³€μμ λ³µμ‚¬λ³Έμ„ μ κ³µ
* λ³µμ‚¬λ³Έμ κ°’μ΄ λ°”λ€μ§€ μ•μ•„μ•Ό ν•λ―€λ΅ μ§€μ—­ λ³€μμ—λ” ν• λ²λ§ κ°’μ„ ν• λ‹Ήν•΄μ•Ό ν•λ‹¤λ” μ μ•½μ΄ μƒκΈ΄ κ²ƒ

> **ν΄λ΅μ €(closure)**
>
> * μ›μΉ™μ μΌλ΅ ν΄λ΅μ €λ€ ν•¨μμ λΉ„μ§€μ—­ λ³€μλ¥Ό μμ λ΅­κ² μ°Έμ΅°ν•  μ μλ” ν•¨μμ μΈμ¤ν„΄μ¤λ¥Ό κ°€λ¦¬ν‚΄
>   * ν΄λ΅μ €λ¥Ό λ‹¤λ¥Έ ν•¨μμ μΈμλ΅ μ „λ‹¤λ„ μ μμ
>   * ν΄λ΅μ €λ” ν΄λ΅μ € μ™Έλ¶€μ— μ •μλ λ³€μμ κ°’μ— μ ‘κ·Όν•κ³ , κ°’μ„ λ°”κΏ€ μ μμ
> * μλ°” 8μ λλ‹¤μ™€ μµλ³‘ ν΄λμ¤λ” ν΄λ΅μ €μ™€ λΉ„μ·ν• λ™μ‘μ„ μν–‰
>   * λλ‹¤μ™€ μµλ… ν΄λμ¤ λ¨λ‘ λ©”μ„λ“μ μΈμλ΅ μ „λ‹¬λ  μ μμΌλ©° μμ‹ μ μ™Έλ¶€ μμ—­μ λ³€μμ— μ ‘κ·Όν•  μ μμ
>   * ν•μ§€λ§ λλ‹¤μ™€ μµλ… ν΄λμ¤λ” λλ‹¤κ°€ μ •μλ λ©”μ„λ“μ μ§€μ—­ λ³€μμ κ°’μ€ λ°”κΏ€ μ μ—†μ
>   * λλ‹¤κ°€ μ •μλ λ©”μ„λ“μ μ§€μ—­ λ³€μκ°’μ€ final λ³€μμ—¬μ•Ό ν•κΈ° λ•λ¬Έμ— λλ‹¤λ” λ³€μκ°€ μ•„λ‹ κ°’μ— κµ­ν•λμ–΄ λ™μ‘μ„ μν–‰
> * μ§€μ—­ λ³€μκ°’μ€ μ¤νƒμ— μ΅΄μ¬ν•λ―€λ΅ μμ‹ μ„ μ •μν• μ¤λ λ“μ™€ μƒμ΅΄μ„ κ°™μ΄ ν•΄μ•Ό ν•λ―€λ΅ μ§€μ—­ λ³€μλ” finalμ΄μ–΄μ•Ό ν•¨
>   * κ°€λ³€ μ§€μ—­ λ³€μλ¥Ό μƒλ΅μ΄ μ¤λ λ“μ—μ„ μΊ΅μ²ν•  μ μλ‹¤λ©΄ μ•μ „ν•μ§€ μ•μ€ λ™μ‘μ„ μν–‰ν•  κ°€λ¥μ„±μ΄ μƒκΉ€
>   * μΈμ¤ν„΄μ¤ λ³€μλ” μ¤λ λ“κ°€ κ³µμ ν•λ” ν™μ— μ΅΄μ¬ν•λ―€λ΅ νΉλ³„ν• μ μ•½μ΄ μ—†μ

## 6. λ©”μ„λ“ μ°Έμ΅°

### μ”μ•½

* λ©”μ„λ“ μ°Έμ΅°: νΉμ • λ©”μ„λ“λ§μ„ νΈμ¶ν•λ” λλ‹¤μ μ¶•μ•½ν•
  * λ…μ‹μ  λ©”μ„λ“λ…μ„ μ°Έμ΅°ν•¨μΌλ΅μ¨ **κ°€λ…μ„±μ„ λ†’μΌ μ μμ**
* λ©”μ„λ“λ… μ•μ— κµ¬λ¶„μ(::)λ¥Ό λ¶™μ΄λ” λ°©μ‹μΌλ΅ λ©”μ„λ“ μ°Έμ΅°λ¥Ό ν™μ©
  * `Apple::getWeight`: Apple ν΄λμ¤μ— μ •μλ getWeightμ λ©”μ„λ“ μ°Έμ΅°
  * μ‹¤μ λ΅ λ©”μ„λ“λ¥Ό νΈμ¶ν•λ” κ²ƒμ€ μ•„λ‹λ―€λ΅ κ΄„νΈλ” ν•„μ” μ—†μ

### **λ©”μ„λ“ μ°Έμ΅°λ¥Ό λ§λ“λ” λ°©λ²•**

* λ©”μ„λ“ μ°Έμ΅°μ μ„Έ κ°€μ§€ μ ν•
  1. **μ •μ  λ©”μ„λ“ μ°Έμ΅°**
     * Integerμ parseInt λ©”μ„λ“λ” `Integer::parseInt`λ΅ ν‘ν„ν•  μ μμ
  2. **λ‹¤μ–‘ν• ν•μ‹μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅°**
     * Stringμ length λ©”μ„λ“λ” `String::length`λ΅ ν‘ν„ν•  μ μμ
     * λλ‹¤ ν‘ν„μ‹μ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•  μ μμ (`(String s) -> s.toUpperCase()` -> `String::toUpperCase()`)
  3. **κΈ°μ΅΄ κ°μ²΄μ μΈμ¤ν„΄μ¤ λ©”μ„λ“ μ°Έμ΅°**
     * Transaction κ°μ²΄λ¥Ό ν• λ‹Ήλ°›μ€ expensiveTransaction μ§€μ—­ λ³€μκ°€ μκ³ , Transaction κ°μ²΄μ—λ” getValue λ©”μ„λ“κ°€ μλ‹¤λ©΄, `expensiveTransaction::getValue`λ΅ ν‘ν„ν•  μ μμ
     * λλ‹¤ ν‘ν„μ‹μ—μ„ ν„μ΅΄ν•λ” μ™Έλ¶€ κ°μ²΄μ λ©”μ„λ“λ¥Ό νΈμ¶ν•  λ• μ‚¬μ©λ¨ (`() -> expensiveTransaction.getValue()` -> `expensiveTransaction::getValue`)
     * λΉ„κ³µκ° ν—¬νΌ λ©”μ„λ“λ¥Ό μ •μν• μƒν™©μ—μ„ μ μ©ν•κ² ν™μ©
* μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ ν•μ‹μ„ κ²€μ‚¬ν•λ λ°©μ‹κ³Ό λΉ„μ·ν• κ³Όμ •μΌλ΅ λ©”μ„λ“ μ°Έμ΅°κ°€ μ£Όμ–΄μ§„ ν•¨μν• μΈν„°νμ΄μ¤μ™€ νΈν™ν•λ”μ§€ ν™•μΈ
  * λ©”μ„λ“ μ°Έμ΅°λ” μ½ν…μ¤νΈμ ν•μ‹κ³Ό μΌμΉν•΄μ•Ό ν•¨

### μƒμ„±μ μ°Έμ΅°

* ν΄λμ¤λ…κ³Ό new ν‚¤μ›λ“λ¥Ό μ΄μ©ν•΄ κΈ°μ΅΄ μƒμ„±μμ μ°Έμ΅°λ¥Ό λ§λ“¤ μ μμ
  * μ •μ  λ©”μ„λ“μ μ°Έμ΅°λ¥Ό λ§λ“λ” λ°©λ²•κ³Ό λΉ„μ·
*   Supplirμ `() -> Apple`κ³Ό κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” μƒμ„±μκ°€ μλ‹¤κ³  κ°€μ •

    ```
    Supplier<Apple> c1 = () -> new Apple();	// λλ‹¤ ν‘ν„μ‹μ€ λ””ν΄νΈ μƒμ„±μλ¥Ό κ°€μ§„ Appleμ„ λ§λ“¦
    Apple a1 = c1.get();	// Supplierμ get λ©”μ„λ“λ¥Ό νΈμ¶ν•΄ μƒλ΅μ΄ Apple κ°μ²΄λ¥Ό λ§λ“¦

    // μ„μ™€ κ°™μ€ μ½”λ“
    Supplier c1 = Apple::new;Apple a1 = c1.get();
    ```
*   `Apple(Integer weight)`λΌλ” μ‹κ·Έλ‹μΉλ¬λ¥Ό κ°–λ” μƒμ„±μλ” Function μΈν„°νμ΄μ¤μ μ‹κ·Έλ‹μ²μ™€ κ°™μ

    ```
    Function<Integer, Apple> c2 = Apple::new;
    Apple a2 = c2.apply(110);	// apply λ©”μ„λ“μ— λ¬΄κ²λ¥Ό μΈμλ΅ νΈμ¶ν•΄ μƒλ΅μ΄ Apple κ°μ²΄λ¥Ό λ§λ“¦
    ```
*   Integerλ¥Ό ν¬ν•¨ν•λ” λ¦¬μ¤νΈμ κ° μ”μ†λ¥Ό map κ°™μ€ λ©”μ„λ“λ¥Ό μ΄μ©ν•΄ Apple μƒμ„±μλ΅ μ „λ‹¬

    ```
    List<Integer> weights = Arrays.asList(7, 3, 4, 10);
    List<Apple> apples = map(weights, Apple::new);	// map λ©”μ„λ“λ΅ μƒμ„±μ μ°Έμ΅° μ „λ‹¬

    public List<Apple> map(List<Integer> list, Function<Integer, Apple> f){
        List<Apple> result = new ArrayList<>();
        for (Integer i : list) {
            result.add(f.apply(i));
        }
        return result;
    }
    ```

    * λ‹¤μ–‘ν• λ¬΄κ²λ¥Ό ν¬ν•¨ν•λ” μ‚¬κ³Ό λ¦¬μ¤νΈκ°€ λ§λ“¤μ–΄μ§
*   `Apple(String color, Integer weight)`μ²λΌ λ‘ μΈμλ¥Ό κ°–λ” μƒμ„±μλ” BiFunction μΈν„°νμ΄μ¤μ™€ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°€μ§

    ```
    BiFunction<Color, Integer, Apple> c3 = Apple::new;
    Apple a3 = c3.apply(GREEN, 110);
    ```

## 7. λλ‹¤, λ©”μ„λ“ μ°Έμ΅° ν™μ©ν•κΈ°

### 1λ‹¨κ³„ : μ½”λ“ μ „λ‹¬

```
public class AppleComparator implements Comparator<Apple> {
    public int compare(Apple a1, Apple a2){
        return a1.getWeight().compareTo(a2.getWeight());
    }
}

inventory.sort(new AppleComparator);
```

* μλ°” 8μ List APIμ—μ„ sort λ©”μ„λ“λ¥Ό μ κ³µν•λ―€λ΅ μ •λ ¬ λ©”μ„λ“λ¥Ό μ§μ ‘ κµ¬ν„ν•  ν•„μ” μ—†μ
  * sort λ©”μ„λ“μ μ‹κ·Έλ‹μ²: `void sort(Comparator<? super E> c)`
  * Comparator κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„ λ‘ μ‚¬κ³Όλ¥Ό λΉ„κµ
* κ°μ²΄ μ•μ— λ™μ‘μ„ ν¬ν•¨μ‹ν‚¤λ” λ°©μ‹μΌλ΅ λ‹¤μ–‘ν• μ „λµ μ „λ‹¬ κ°€λ¥ => **sortμ λ™μ‘μ€ νλΌλ―Έν„°ν™” λ¨**

### 2λ‹¨κ³„ : μµλ… ν΄λμ¤ μ‚¬μ©

```
inventory.sort(new Comparator<Apple>() {
    public int compare(Apple a1, Apple a2) {
        return a1.getWeight().compareTo(a2.getWeight());
    }
});
```

* ν• λ²λ§ μ‚¬μ©ν•  Comparatorλ¥Ό μµλ… ν΄λμ¤λ΅ μ‘μ„±ν•¨

### 3λ‹¨κ³„ : λλ‹¤ ν‘ν„μ‹ μ‚¬μ©

* ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κΈ°λ€ν•λ” κ³³ μ–΄λ””λ“  λλ‹¤ ν‘ν„μ‹ μ‚¬μ© κ°€λ¥
  * ν•¨μν• μΈν„°νμ΄μ¤: μ¤μ§ ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ •μν•λ” μΈν„°νμ΄μ¤
  * ν•¨μ λ””μ¤ν¬λ¦½ν„°(μ¶”μƒ λ©”μ„λ“μ μ‹κ·Έλ‹μ²)λ” λλ‹¤ ν‘ν„μ‹μ μ‹κ·Έλ‹μ²λ¥Ό μ •μ

```
inventory.sort((Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight()));
```

*   μλ°” μ»΄νμΌλ¬λ” λλ‹¤ ν‘ν„μ‹μ΄ μ‚¬μ©λ μ½ν…μ¤νΈλ¥Ό ν™μ©ν•΄ λλ‹¤μ νλΌλ―Έν„° ν•μ‹μ„ μ¶”λ΅ ν•¨

    ```
    inventory.sort((a1, a2) -> a1.getWeight().compareTo(a2.getWeight()));
    ```
*   Comparatorλ” Comparable ν‚¤λ¥Ό μ¶”μ¶ν•΄μ„ Comparator κ°μ²΄λ΅ λ§λ“λ” Function ν•¨μλ¥Ό μΈμλ΅ λ°›λ” μ •μ  λ©”μ„λ“ comparingμ„ ν¬ν•¨

    ```
    Comparator<Apple> c = Comparator.comparing((Apple a) -> a.getWeight());

    import static java.util.Comparator.comparing;
    inventory.sort(comparing(apple -> apple.getWeight()));
    ```

### 4λ‹¨κ³„ : λ©”μ„λ“ μ°Έμ΅° μ‚¬μ©

```
import static java.util.Comparator.comparing;
inventory.sort(comparing(Apple::getWeight));
```

* '**Appleμ„ weightλ³„λ΅ λΉ„κµν•΄ inventoryλ¥Ό sortν•΄λΌ**'λ” μλ―Έ

## 8. λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•  μ μλ” μ μ©ν• λ©”μ„λ“

* κ°„λ‹¨ν• μ—¬λ¬ κ°μ λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•΄ λ³µμ΅ν• λλ‹¤ ν‘ν„μ‹μ„ λ§λ“¤ μ μμ
  * λ‘ ν”„λ λ””μΌ€μ΄νΈλ¥Ό μ΅°ν•©ν•΄ λ‘ ν”„λ λ””μΌ€μ΄νΈμ or μ—°μ‚°μ„ μν–‰ν•λ” μ»¤λ‹¤λ€ ν”„λ λ””μΌ€μ΄νΈλ¥Ό λ§λ“¤ μ μμ
  * ν• ν•¨μμ κ²°κ³Όκ°€ λ‹¤λ¥Έ ν•¨μμ μ…λ ¥μ΄ λλ„λ΅ λ‘ ν•¨μλ¥Ό μ΅°ν•©ν•  μ μμ

### Comparator μ΅°ν•©

*   μ •μ  λ©”μ„λ“ `Comparator.comparing`μ„ μ΄μ©ν•΄ λΉ„κµμ— μ‚¬μ©ν•  ν‚¤λ¥Ό μ¶”μ¶ν•λ” Function κΈ°λ°μ Comparatorλ¥Ό λ°ν™ν•  μ μμ

    ```
    Comparator<Apple> c = Comparator.comparing(Apple::getWeight);
    ```

### **μ—­μ •λ ¬**

* μ‚¬κ³Όμ λ¬΄κ²λ¥Ό λ‚΄λ¦Όμ°¨μμΌλ΅ μ •λ ¬ν•κ³  μ‹¶λ‹¤λ©΄?
  * μΈν„°νμ΄μ¤ μμ²΄μ—μ„ μ£Όμ–΄μ§„ λΉ„κµμμ μμ„λ¥Ό λ’¤λ°”κΎΈλ” reverseλΌλ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µ
*   μ²μ λΉ„κµμ κµ¬ν„μ„ κ·Έλ€λ΅ μ¬μ‚¬μ©ν•΄ μ‚¬κ³Όμ λ¬΄κ²λ¥Ό κΈ°μ¤€μΌλ΅ μ—­μ •λ ¬ν•  μ μμ

    ```
    inventory.sort(comparing(Apple::getWeight).reversed());
    ```

**Comperator μ—°κ²°**

* λ¬΄κ²κ°€ κ°™μ€ λ‘ μ‚¬κ³Όκ°€ μ΅΄μ¬ν•λ‹¤λ©΄ μ–΄λ–¤ μ‚¬κ³Όλ¥Ό λ¨Όμ € λ‚μ—΄ν•΄μ•Ό ν• κΉ?
  * λΉ„κµ κ²°κ³Όλ¥Ό λ‹¤λ“¬μ„ μ μλ” λ‘ λ²μ§Έ Comparatorλ¥Ό λ§λ“¤ μ μμ
*   λ¬΄κ²λ΅ λ‘ μ‚¬κ³Όλ¥Ό λΉ„κµν• λ‹¤μ λ¬΄κ²κ°€ κ°™λ‹¤λ©΄ μ›μ‚°μ§€ κµ­κ°€λ³„λ΅ μ‚¬κ³Όλ¥Ό μ •λ ¬ν•  μ μμ

    ```
    inventory.sort(comparing(Apple::getWeight).reversed().thenComparing(Apple::getCountry))
    ```

    * thenComparing λ©”μ„λ“λ΅ λ‘ λ²μ§Έ λΉ„κµ μ—°μ‚°μλ¥Ό λ§λ“¦
    * thenComparingμ€ ν•¨μλ¥Ό μΈμλ΅ λ°›μ•„ μ²« λ²μ§Έ λΉ„κµμλ¥Ό μ΄μ©ν•΄μ„ λ‘ κ°μ²΄κ°€ κ°™λ‹¤κ³  νλ‹¨λλ©΄ λ‘ λ²μ§Έ λΉ„κµμμ— κ°μ²΄λ¥Ό μ „λ‹¬

### Predicate μ΅°ν•©

* λ³µμ΅ν• ν”„λ λ””μΌ€μ΄νΈλ¥Ό λ§λ“¤ μ μλ„λ΅ negate, and, or μ„Έ κ°€μ§€ λ©”μ„λ“λ¥Ό μ κ³µ
*   'λΉ¨κ°„μƒ‰μ΄ μ•„λ‹ μ‚¬κ³Ό'μ²λΌ νΉμ • ν”„λ λ””μΌ€μ΄νΈλ¥Ό λ°μ „μ‹ν‚¬ λ• negate λ©”μ„λ“λ¥Ό μ‚¬μ©

    ```
    Predicate<Apple> notRedApple = redApple.negate();
    ```
*   and λ©”μ„λ“λ¥Ό μ΄μ©ν•΄ λΉ¨κ°„μƒ‰μ΄λ©΄ λ¬΄κ±°μ΄ μ‚¬κ³Όλ¥Ό μ„ νƒν•λ„λ΅ λ‘ λλ‹¤λ¥Ό μ΅°ν•©

    ```
    Predicate<Apple> redAndHeavyApple = redApple.and(apple -> apple.getWeight() > 150);
    ```
*   orμ„ μ΄μ©ν•΄ 'λΉ¨κ°„μƒ‰μ΄λ©΄μ„ λ¬΄κ±°μ΄ μ‚¬κ³Ό λλ” κ·Έλƒ¥ λ…Ήμƒ‰ μ‚¬κ³Ό' λ“± λ‹¤μ–‘ν• μ΅°κ±΄μ„ λ§λ“¤ μ μμ

    ```
    Predicate<Apple> redAndHeavyAppleOrGreen = redApple.and(apple -> apple.getWeight > 150)
                                               .or(apple -> GREEN.equals(apple.getColor()));
    ```

### Function μ΅°ν•©

* Function μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ” andThen, compose λ‘ κ°€μ§€ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µ
* andThen λ©”μ„λ“: μ£Όμ–΄μ§„ ν•¨μλ¥Ό λ¨Όμ € μ μ©ν• κ²°κ³Όλ¥Ό λ‹¤λ¥Έ ν•¨μμ μ…λ ¥μΌλ΅ μ „λ‹¬ν•λ” ν•¨μλ¥Ό λ°ν™
  * μ«μλ¥Ό μ¦κ°€μ‹ν‚¤λ” fλΌλ” ν•¨μμ™€ μ«μμ— 2λ¥Ό κ³±ν•λ” gν•λ” ν•¨μκ°€ μλ‹¤κ³  κ°€μ •
  *   fμ™€ gλ¥Ό μ΅°λ¦½ν•΄ μ«μλ¥Ό μ¦κ°€μ‹ν‚¨ λ’¤ κ²°κ³Όμ— 2λ¥Ό κ³±ν•λ” hλΌλ” ν•¨μλ¥Ό λ§λ“¤ μ μμ

      ```
      Function<Integer, Integer> f = x -> x + 1;
      Function<Integer, Integer> g = x -> x * 2;
      Function<Integer, Integer> h = f.andThen(g);int result = h.apply(1);	// 4λ¥Ό λ°ν™
      ```
*   compose λ©”μ„λ“: μΈμλ΅ μ£Όμ–΄μ§„ ν•¨μλ¥Ό λ¨Όμ € μ‹¤ν–‰ν• λ‹¤μ κ·Έ κ²°κ³Όλ¥Ό μ™Έλ¶€ ν•¨μμ μΈμλ΅ μ κ³µ

    ```
    Function<Integer, Integer> f = x -> x + 1;
    Function<Integer, Integer> g = x -> x * 2;
    Function<Integer, Integer> h = f.compose(g);int result = h.apply(1);	// 3λ¥Ό λ°ν™
    ```

## 10. λ§μΉλ©°

* **λλ‹¤ ν‘ν„μ‹**: μµλ… ν•¨μμ μΌμΆ…. μ΄λ¦„μ€ μ—†μ§€λ§, νλΌλ―Έν„° λ¦¬μ¤νΈ, λ°”λ””, λ°ν™ ν•μ‹μ„ κ°€μ§€λ©° μμ™Έλ¥Ό λμ§ μ μμ
  * λλ‹¤ ν‘ν„μ‹μΌλ΅ κ°„κ²°ν• μ½”λ“λ¥Ό κµ¬ν„ν•  μ μμ
* **ν•¨μν• μΈν„°νμ΄μ¤**: ν•λ‚μ μ¶”μƒ λ©”μ„λ“λ§μ„ μ •μν•λ” μΈν„°νμ΄μ¤
  * ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κΈ°λ€ν•λ” κ³³μ—μ„λ§ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•  μ μμ
  * λλ‹¤ ν‘ν„μ‹μ„ μ΄μ©ν•΄ ν•¨μν• μΈν„°νμ΄μ¤μ μ¶”μƒ λ©”μ„λ“λ¥Ό μ¦‰μ„μΌλ΅ μ κ³µν•  μ μμΌλ©° λλ‹¤ ν‘ν„μ‹ μ „μ²΄κ°€ ν•¨μν• μΈν„°νμ΄μ¤μ μΈμ¤ν„΄μ¤λ΅ μ·¨κΈ‰λ¨
* **`java.util.function`** ν¨ν‚¤μ§€λ” `Predicate<T>`, `Function<T, R>`, `Supplier<T>`, `Consumer<T>`, `BinaryOperator<T>` λ“±μ„ ν¬ν•¨ν•΄ μμ£Ό μ‚¬μ©ν•λ” λ‹¤μ–‘ν• ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ κ³µ
* μλ°” 8μ€ `Predicate<T>`μ™€ `Function<T, R>` κ°™μ€ μ λ„¤λ¦­ ν•¨μν• μΈν„°νμ΄μ¤μ™€ κ΄€λ ¨ν• λ°•μ‹± λ™μ‘μ„ ν”Όν•  μ μλ” IntPredicate, IntToLongFunction λ“±κ³Ό κ°™μ€ κΈ°λ³Έν• νΉν™” μΈν„°νμ΄μ¤λ„ μ κ³µ
* μ‹¤ν–‰ μ–΄λΌμ΄λ“ ν¨ν„΄(μ½”λ“ μ¤‘κ°„μ— μ‹¤ν–‰ν•΄μ•Ό ν•λ” λ©”μ„λ“μ— κΌ­ ν•„μ”ν• μ½”λ“)μ„ λλ‹¤λ¥Ό ν™μ©ν•λ©΄ μ μ—°μ„±κ³Ό μ¬μ‚¬μ©μ„±μ„ μ¶”κ°€λ΅ μ–»μ„ μ μμ
* λλ‹¤ ν‘ν„μ‹μ κΈ°λ€ ν•μ‹(type expected)μ„ **λ€μƒ ν•μ‹(target type)**μ΄λΌκ³  ν•¨
* λ©”μ„λ“ μ°Έμ΅°λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄μ λ©”μ„λ“ κµ¬ν„μ„ μ¬μ‚¬μ©ν•κ³  μ§μ ‘ μ „λ‹¬ν•  μ μμ
* Comparator, Predicate, Function κ°™μ€ ν•¨μν• μΈν„°νμ΄μ¤λ” λλ‹¤ ν‘ν„μ‹μ„ μ΅°ν•©ν•  μ μλ” λ‹¤μ–‘ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µ
